# [S/E] -테스트 주도 개발(TDD)

## 1. TDD (Test-Driven Development, 테스트 주도 개발) ?

- 반복 테스트를 이용한 소프트웨어 방법론으로, **작은 단위의 테스트 케이스를 작성**하고 이를 통과하는 코드를 추가하는 단계를 반복하여 구현

<aside>
💡 **단위 테스트 ?**
앱을 작은 단위 (일반적으로 메서드) 로 격리하여 예상대로 동작하는 지 확인 하는 것
- 코드를 수정하거나 기능을 추가할 때 수시로 검증가능
- 리팩토링의 안정성 확보
- 개발 및 테스팅에 대한 시간과 비용 절감

</aside>

- 짧은 개발 주기의 반복에 의존하는 개발 프로세스이며 애자일 방법론 중 하나인 **eXtream Programming(XP)의 'Test-First'** 개념에 기반을 둔 단순한 설계를 중요시

<aside>
💡 **eXtream Programming(XP) ?**
미래에 대한 예측을 최대한 하지 않고, 지속적으로 프로토 타입을 완성하는 애자일 방법론 중 하나
- 추가적인 요구/변경 사항이 발생해도 실시간으로 반영

</aside>

## 2. TDD 의 특징

- 일반 개발 방식은 **요구사항 분석 -> 설계 -> 개발 -> 테스트 -> 배포** 의 형태 개발 주기를 갖는데,
    - 소비자의 요구사항이 명확하지 않을 수 있음
    - 이것은 **완벽한 설계가 불가능** 한것을 의미
    - 이에 따라 **버그나 소스코드의 품질이 저하됨**
    - 또한 **테스트 비용이 증가** 할 수 있음

위와 같은 문제점들이 주기적으로 발생해 불완전한 설계에서 또 다시 재설계로 인해 불필요한 코드의 삽입, 중복 등이 발생하기 쉬움 이렇게 작성된 코드들은 **유지보수가 어렵고 재사용이 불가능 하게됨**

- TDD 개발 방식은 **테스트 코드를 작성한 뒤 실제 코드를 작성함**
    - 디자인(설계) 단계에서 **프로그래밍 목적을 반드시 정의**
    - **테스트 케이스(무엇을 테스트 할것인지)를 작성**
    - 테스트 코드를 작성하는 도중 발생하는 예외사항들은 테스트 케이스에 추가되어 설계됨

위와 같은 단계가 반복되면서 소스코드는 간결해지고, 버그도 줄어들게되면서 설계 또한 개선됨.

### ✏️ TDD의 장점

- **보다 튼튼한 객체 지향적인 코드 생산**
    
    TDD는 코드의 재사용 보장을 명시하고 TDD를 통한 소프트웨어 개발 시 기능 별 결합도가 낮은 모듈화가 이 루어지므로 모듈을 추가하거나 제거하여도 소프트웨어 전체에 영향을 미치지 않게됨
    
- **재설계 시간의 단축**
    
    테스트 코드를 먼저 작성하기 때문에 테스트 시나리오를 작성하고, 예외사항을 고려하며 무엇을 프로그래밍 할 것인지에 대한 목적을 분명히 하게 되어 전반적인 설계가 변경되는 일을 방지 할 수 있음
    
- **디버깅 시간의 단축**
    
    자동화된 단위 테스트를 전재하므로 특정 버그를 손쉽게 찾아 낼 수 있음
    
- **테스트 문서의 대체 가능**
    
    테스트를 자동화하게 되어 정확한 테스트 근거를 산출할 수 있기 때문에 테스트 정의서 등이 불필요해짐
    
- **추가 구현의 용이함**
    
    테스팅 자동화된 단위들로 개발 완료된 소프트웨어에 기능 추가할 때에도 기간이 단축됨
    

### ✏️ TDD의 단점

- 생산성이 저하 될 수 있음
    
    TDD개발방식은 처음부터 2개의 코드를 작성해야하고 이를 반복적으로 테스트하면서 수정하는 주기를 갖기 때문에 일반적인 개발방식 보다 대략 10%~30% 개발시간 증가
    

## 3. TDD 접근 방법

```html
❗ **TDD 의 개발 주기**

   1. RED : 실패하는 코드를 작성
   2. GREEN : 테스트 코드를 성공시키기 위한 실제 코드를 작성
						  실패된 테스트가 없을 경우에만 성공 테스트를 작성
   3. REFACTOR : 중복코드 제거, 일반화 등의 리팩토링을 수행

 1~3단계를 반복해서 수행
```

- 가짜로 구현하기: 최대한 빨리 테스트를 통과하기 위해 정답이 아닌 가짜 정답을 구현하는 방법
- 삼각측량법: 값이 다른 여러 테스트를 작성하고, 이를 일반화하여 정답을 구현하는 방법
- 명백하게 구현하기: 정답을 바로 구현하는 방법