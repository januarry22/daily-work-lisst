# B Tree & B+ Tree

## B Tree ?

- 데이터베이스, 파일 시스템에서 널리 사용되는 트리 자료구조의 일종이다.
- 이진 트리를 확장해서, 더 많은 수의 자식을 가질 수 있게 일반화 시킨 것이 B-Tree
- 자식 수에 대한 일반화를 진행하면서, 하나의 레벨에 더 저장되는 것 뿐만 아니라 트리의 균형을 자동으로 맞춰주는 로직이 존재하므로 균형적인 트리 구현

### 특징

- 노드의 자료수가 N이면, 자식 수는 N+1이어야 함
- 각 노드의 자료는 정렬된 상태여야함
- 루트 노드는 적어도 2개 이상의 자식을 가져야함
- 루트 노드를 제외한 모든 노드는 적어도 M/2개의 자료를 가지고 있어야함
- 외부 노드로 가는 경로의 길이는 모두 같음.
- 입력 자료는 중복 될 수 없음

## B+ Tree ?

- **리프노드는 연결리스트의 형태**를 띄어 선형 검색이 가능하다는 점
- 데이터의 빠른 접근을 위한 인덱스 역할만 하는 비단말 노드(not Leaf)가 추가로 있음

### 특징

- 노드는 최대 *M*개 부터 *M*/2개 까지의 자식을 가질 수 있음
- 노드에는 최대 *M*−1개 부터 [*M*/2]−1개의 키가 포함될 수 있음
- 노드의 키가 *x*개라면 자식의 수는 *x*+1개
- 최소차수는 자식수의 하한값을 의미하며, 최소차수가 *t*라면 *M*=2*t*−1을 만족
    - (최소차수 *t*가 2라면 3차 B트리이며, key의 하한은 1개)

[장점]

- 블럭 사이즈를 더 많이 이용 할 수 있음
    - key 값에 대한 하드디스트 주소가 없기 때문
- leaf 노드 끼리 연결리스트로 되어 있어서 범위 탐색에 매우 유리함

[단점]

- B-tree의 경우 최상 케이스에서는 루트에서 끝날 수 있지만, B+tree는 무조건 leaf 노드까지 내려가봐야 함

### B Tree & B+ Tree

### B Tree

### B+ Tree

- 각 노드에 데이터가 저장

- index 노드와 leaf 노드로 분리되어 저장(leaf 노드는 서로 연결)

- B-tree는 각 노드에서 key와 data 모두 들어갈 수 있고, data는 disk block으로 포인터가 될 수 있음

- B+tree는 각 노드에서 key만 들어감. 따라서 data는 모두 leaf 노드에만 존재

- B+tree는 add와 delete가 모두 leaf 노드에서만 이루어짐